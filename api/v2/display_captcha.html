---
layout: default
navPage: docs
heading: displayCaptcha()
breadcrumbs:
  - API,/api/
  - API v2.x,/api/v2
  - Class Methods,/api/v2/class_methods/
  - Other Functions,/api/v2/other_functions/
  - displayCaptcha()
prev: loadField(),/api/v2/load_field/
next: deleteUnfinalizedSubmissions(),/api/v2/delete_unfinalized_submissions/
---

{% include open_section.html nav='nav_api_v2.html' selected='display_captcha' nav_width=4 %}

	<p>
		The API comes fully integrated with the <b>reCAPTCHA</b> service, now offered through Google.
		<a href="https://developers.google.com/recaptcha/" target="_blank">Click here</a> to visit their website and
        learn more.
	</p>

	<p>
		This API function generates a CAPTCHA in your page with a single line of PHP. If the user fails to enter the
        CAPTCHA correctly they are unable to proceed any further through your form and the submission is never
        finalized.
	</p>

	<p>
		This document explains how to get this function working for you.
	</p>

	<h3>1. Get a recaptcha account</h3>

	<p>
		I know it's a pain, but it's very quick. <a href="https://developers.google.com/recaptcha/intro"
		target="_blank">Visit the reCAPTCHA site here</a> and sign up for an API key pair. Once you've
		created an account you register the domain(s) where you're using the service. Since the
		API only runs on the same server as your Form Tools installation, you'll only need to set up the one domain.
	</p>

	<p>
		Recaptcha will generate two keys for you: a private and a public one. Add
		those two values to your <b>/global/config.php</b> file, like so:
	</p>

	{% codemirror php %}
$g_api_recaptcha_private_key = "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx";
$g_api_recaptcha_public_key = "yyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy";
	{% endcodemirror %}

	<p>
		(replace the x's and y's with your own keys).
	</p>

	<h3>2. Add the captcha to your form</h3>

	<p>
		Next, in your form (which should already be integrated with the API with help from the tutorials
		on  <a href="{{site.baseurl}}/tutorials/api_single_page_form">adding a single page form </a> and
		<a href="{{site.baseurl}}/tutorials/api_multi_page_form">adding a multi-page form</a>), add this line where
		you want.
	</p>

	{% codemirror php %}
<?php
$api = new FormTools\API();
$api->displayCaptcha();
?>
	{% endcodemirror %}

	<p>
		And you're done! Try it out!
	</p>


{% include close_section.html %}
